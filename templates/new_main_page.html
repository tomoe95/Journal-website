{% extends "layout2.html" %}

{% block css_file %}
<link href="/static/new_main_page.css" rel="stylesheet">
{% endblock %}

{% block title %}
Your Journaling
{% endblock %}

{% block main %}

<header class="top-bar">
    <div class="user-info">
        <h2>Welcome back, <b>{{ username }}</b>! ðŸ˜‰</h2>
        <h4>Todayâ€™s Date: <span id="today-date"></span></h4>
    </div>
</header>

<main>
    <!-- Input Section -->
    <section class="input-section">
        <h2>Whatâ€™s on Your Mind Today?</h2>
        <form action="/" method="POST" class="journal-form">
            <label for="journal-date">Date:</label>
            <input type="date" id="journal-date" name="date" required>

            <label for="journal-feeling">Feeling:</label>
            <select id="journal-feeling" name="feeling" required>
                <option value="ðŸ˜Š">ðŸ˜Š Happy</option>
                <option value="ðŸ˜¢">ðŸ˜¢ Sad</option>
                <option value="ðŸ˜¡">ðŸ˜¡ Angry</option>
                <option value="ðŸ˜Œ">ðŸ˜Œ Relaxed</option>
            </select>

            <label for="journal-description">Description:</label>
            <textarea id="journal-description" name="description" placeholder="Write about your day..." required></textarea>

            <button type="submit">Submit</button>
        </form>
    </section>

    <!-- Recap Section -->
    <section class="recap-section">
        <h2>Your Journaling Summary</h2>
        <div class="recap-container">
            <div class="weekly-recap">
                <h3>Weekly Recap</h3>
                <canvas id="weekly-chart"></canvas>
            </div>
            <div class="monthly-recap">
                <h3>Monthly Recap</h3>
                <canvas id="monthly-chart"></canvas>
            </div>
        </div>
    </section>
</main>

<footer>
    <p>Â© 2025 Journaling App.</p>
</footer>

<script>
    // Set today's date
    document.getElementById('today-date').innerText = new Date().toLocaleDateString();
</script>

{% endblock %}
